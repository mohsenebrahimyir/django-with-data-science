{% extends 'base.html' %}

{% block title %}performance{% endblock title %}

{% block content %}
<div class="ui modal mymodal">
  <div class="header">Price data</div>
  <div class="ui container">
    <ul>
      <li><strong>Count:</strong> {{ price.count | floatformat }}</li>
      <li><strong>Mean:</strong> {{ price.mean | floatformat }}</li>
      <li><strong>Median:</strong> {{ price.median | floatformat }}</li>
      <li><strong>Min:</strong> {{ price.min | floatformat }}</li>
      <li><strong>Max:</strong> {{ price.max | floatformat }}</li>
      <li><strong>Std Dev:</strong> {{ price.std | floatformat }}</li>
    </ul>
  </div>
</div>
<div>
  {% if error_message %}
    <div class="ui negative message">
      <i class="close icon"></i>
      <div class="header">
        {{ error_message }}
      </div>
    </div>
  {% endif %}
  {% if request.POST %}
    {% if graph %}
      <div class="ui black message">
        <center>
          <img src="data:image/png;base64, {{ graph | safe }}">
        <center>  
      </div>
    {% endif %}
  {% endif %}
  <form action="" method="POST" class="ui form">
  {% csrf_token %}
    <div class="field">
      <label>Choose a chart type:</label>
      <div class="ui selection dropdown">
        <input type="hidden" name="sales">
        <i class="dropdown icon"></i>
        <div class="default text">---</div>
        <div class="menu">
          <div class="item" data-value="bar">Bar plot</div>
          <div class="item" data-value="line">Line plot</div>
          <div class="item" data-value="count">count plot</div>
        </div>
      </div>
    </div>
    <div class="field">
      <div class="two fields">
        <div class="field">
          <label>Date from:</label>
          <input type="date" name="date_from">
        </div>
        <div class="field">
          <label>Date to:</label>
          <input type="date" name="date_to">
        </div>
      </div>
    </div>
    <button class='ui primary button' type='submit'>Select</button>
  </form>
  <button class="ui secondary button" id='modal-btn'>See Summary</button>
</div>
{% endblock content %}